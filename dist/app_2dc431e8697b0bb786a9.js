!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=0)}([function(e,t,n){n(2),e.exports=n(1)},function(e,t,n){},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){var e=this,t=e.MODE_VALUE;e.setMode=function(n){if("number"!==r(n).toLowerCase())throw new Error("Expected a number, got ".concat(r(n)));if(n<e.MODE_VALUE||n>e.MODE_CENTER)throw new Error("Invalid entry mode number given, please use EntryMode constants");t=n},e.changeMode=function(){++t>e.MODE_CENTER&&(t=e.MODE_VALUE)},e.getMode=function(){return t}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if("object"!==u(e).toLowerCase())throw new Error("Instance needs to be an object, got ".concat(u(e)," instead"));if("function"!==u(t).toLowerCase())throw new Error("Trait constructor needs to be a function/class, got ".concat(u(t)," instead"));var n,r=new t;for(n in r)e[n]=r[n]}function i(){var e=this;e.gridCells=[],e.addCell=function(t){return e.gridCells.push(t)},e.getCellValues=function(){return e.gridCells.map((function(e){return e.getValue()})).filter((function(e){return null!==e}))},e.checkDuplicateCellValues=function(){var t={};e.gridCells.forEach((function(e){var n=e.getValue();if(null!==n){var r=t[n]||[];r.push(e),t[n]=r,r.length>1&&r.forEach((function(e){return e.setErrorStatus(!0)}))}}))}}function s(e){var t=this;l(t,i),t.rowNumber=e,t.getCellNumbers=function(){for(var e=[],n=1;n<10;n++)e.push(n+9*(t.rowNumber-1));return e}}function c(e){var t=this;l(t,i),t.columnNumber=e,t.getCellNumbers=function(){var e=[],n=t.columnNumber;e.push(n);for(var r=0;r<8;r++)n+=9,e.push(n);return e}}function a(e){var t=this;l(t,i),t.boxNumber=e,t.getCellNumbers=function(){var e=t.boxNumber-1,n=3*e;n+=18*Math.floor(e/3),n++;for(var r=[],o=0;o<3;o++)r.push(n),r.push(++n),r.push(++n),n+=7;return r}}function d(e){var t=this,n=this;n.cellNumber=e,n.gridRow=null,n.gridColumn=null,n.gridBox=null,n.element=null,n.isPrefilled=!1,n.colorNumber=1,n.cornerMarks=[],n.centerMarks=[];var r=null,o=!1;!function(){if(n.element=document.getElementById("grid-cell-".concat(n.cellNumber)),null===n.element)throw new Error("Cell element with ID 'grid-cell-".concat(n.cellNumber,"' not found"))}(),n.init=function(){n.registerEventHandlers()},n.getValue=function(){return r},n.setValue=function(e){r=e,n.element.getElementsByClassName("cell-value")[0].innerText=e},n.getIsSelected=function(){return o},n.setIsSelected=function(e){e?(n.element.classList.add("selected"),n.getIsSelected()||Sudoku.grid.addSelectedCell(n)):n.element.classList.remove("selected"),o=e},n.setRow=function(e){return n.gridRow=e},n.setColumn=function(e){return n.gridColumn=e},n.setBox=function(e){return n.gridBox=e},n.registerEventHandlers=function(){n.element.addEventListener("mousedown",(function(){Sudoku.controls.ctrlKeyPressed||Sudoku.grid.deselectAllCells(),n.setIsSelected(!0)})),n.element.addEventListener("mouseenter",(function(){Sudoku.controls.mousePressed&&n.setIsSelected(!0)})),n.element.addEventListener("mouseup",(function(){return Sudoku.grid.setLastNavigatedCell(t)})),document.addEventListener("keydown",(function(e){Sudoku.grid.removeAllErrors(),n.getIsSelected()&&(Sudoku.controls.isNumberKey(e.code)?n.setValue(parseInt(e.key,10)):Sudoku.controls.isDeleteKey(e.code)&&n.setValue(null)),Sudoku.grid.checkForErrors()}))},n.setErrorStatus=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?n.element.classList.add("has-error"):n.element.classList.remove("has-error")},n.getState=function(){return"n"+n.cellNumber+(n.isPrefilled?"p":"")+"v"+n.getValue()+"c"+n.colorNumber+"cr"+n.cornerMarks.join("")+"cn"+n.centerMarks.join("")}}n.r(t),o.MODE_VALUE=1,o.MODE_CORNER=2,o.MODE_CENTER=3,window.Sudoku={controls:new function(){var e=this;e.mousePressed=!1,e.ctrlKeyPressed=!1,e.arrowKeys={up:["ArrowUp","KeyW"],down:["ArrowDown","KeyS"],left:["ArrowLeft","KeyA"],right:["ArrowRight","KeyD"]},e.arrowKeysConcatenated=e.arrowKeys.up.concat(e.arrowKeys.down).concat(e.arrowKeys.left).concat(e.arrowKeys.right),e.numberKeys=["Digit1","Numpad1","Digit2","Numpad2","Digit3","Numpad3","Digit4","Numpad4","Digit5","Numpad5","Digit6","Numpad6","Digit7","Numpad7","Digit8","Numpad8","Digit9","Numpad9"],e.deleteKeys=["Delete","Backspace"],e.init=function(){document.addEventListener("mousedown",(function(){return e.mousePressed=!0})),document.addEventListener("mouseup",(function(){return e.mousePressed=!1})),document.addEventListener("keydown",(function(t){e.ctrlKeyPressed=t.ctrlKey||t.metaKey})),document.addEventListener("keyup",(function(t){e.ctrlKeyPressed=t.ctrlKey||t.metaKey}))},e.isNumberKey=function(t){return e.numberKeys.indexOf(t)>-1},e.isDeleteKey=function(t){return e.deleteKeys.indexOf(t)>-1},e.isArrowKey=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";return"any"===n?e.arrowKeysConcatenated.indexOf(t)>-1:e.arrowKeys[n]&&e.arrowKeys[n].indexOf(t)>-1}},entryMode:new o,grid:new function(){var e=this,t=this;t.gridCells=[],t.gridRows=[],t.gridColumns=[],t.gridBoxes=[],t.selectedCells=[],t.lastNavigatedCell=null,t.init=function(){t.registerEventHandlers()},t.registerEventHandlers=function(){document.addEventListener("keydown",(function(n){if(Sudoku.controls.isArrowKey(n.code)){t.deselectAllCells();var r=t.lastNavigatedCell.cellNumber-1,o=null;Sudoku.controls.isArrowKey(n.code,"up")?(r-=9)<0&&(r=81+r):Sudoku.controls.isArrowKey(n.code,"down")?(r+=9)>80&&(r-=81):Sudoku.controls.isArrowKey(n.code,"left")?(1+--r)%9==0&&(r+=9):Sudoku.controls.isArrowKey(n.code,"right")&&++r%9==0&&(r-=9),(o=e.gridCells[r]).setIsSelected(!0),t.setLastNavigatedCell(o)}}))},t.collectCells=function(){for(var e=1;e<10;e++)t.gridRows.push(new s(e)),t.gridColumns.push(new c(e)),t.gridBoxes.push(new a(e));for(var n,r=1;r<82;r++){(n=new d(r)).init(),t.gridCells.push(n);for(var o=0;o<9;o++)-1!==t.gridRows[o].getCellNumbers().indexOf(r)&&(t.gridRows[o].addCell(n),n.setRow(t.gridRows[o])),-1!==t.gridColumns[o].getCellNumbers().indexOf(r)&&(t.gridColumns[o].addCell(n),n.setColumn(t.gridColumns[o])),-1!==t.gridBoxes[o].getCellNumbers().indexOf(r)&&(t.gridBoxes[o].addCell(n),n.setBox(t.gridBoxes[o]))}t.setLastNavigatedCell(null)},t.addSelectedCell=function(e){return t.selectedCells.push(e)},t.setLastNavigatedCell=function(e){t.lastNavigatedCell=null===e?t.gridCells[40]:e},t.deselectAllCells=function(){t.selectedCells.forEach((function(e){return e.setIsSelected(!1)}))},t.checkForErrors=function(){t.gridRows.forEach((function(e){return e.checkDuplicateCellValues()})),t.gridColumns.forEach((function(e){return e.checkDuplicateCellValues()})),t.gridBoxes.forEach((function(e){return e.checkDuplicateCellValues()}))},t.removeAllErrors=function(){t.gridCells.forEach((function(e){return e.setErrorStatus(!1)}))},t.getState=function(){return"a1t"+Sudoku.timer.getTotalElapsedMs()+t.gridCells.map((function(e){return e.getState()})).join("")}},timer:new function(){var e=this;e.initialMs=0,e.startMoment=null,e.timeElement=document.getElementById("elapsed-time"),e.timeInterval=null,e.start=e.unpause=function(){return e.startMoment=new Date},e.pause=function(){e.initialMs+=e.getElapsedMsSinceStart(),e.startMoment=null},e.getElapsedMsSinceStart=function(){return null!==e.startMoment?(new Date).getTime()-e.startMoment.getTime():0},e.getTotalElapsedMs=function(){return e.initialMs+e.getElapsedMsSinceStart()},e.getElapsedTimeString=function(){var t=Math.floor(e.getTotalElapsedMs()/1e3),n=Math.floor(t/3600),r=Math.floor(t%3600/60),o=(t%60).toString(10).padStart(2,"0");return n>0?(r=r.toString().padStart(2,"0"),"".concat(n,":").concat(r,":").concat(o)):"".concat(r,":").concat(o)},e.showTime=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?e.timeInterval=setInterval((function(){e.timeElement.innerText=e.getElapsedTimeString()}),1e3):clearInterval(e.timeInterval)}}},Sudoku.timer.start(),Sudoku.timer.showTime(),Sudoku.controls.init(),Sudoku.grid.init(),Sudoku.grid.collectCells()}]);
//# sourceMappingURL=app_2dc431e8697b0bb786a9.js.map